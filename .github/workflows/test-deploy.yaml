# name: List services in GCP
# on:
#   # Triggers the workflow on push or pull request events but only for the "master" branch
#   push:
#     branches: [ "master" ]
#   pull_request:
#     branches: [ "master" ]

#   # Allows you to run this workflow manually from the Actions tab
#   workflow_dispatch:

# permissions:
#   id-token: write

# jobs:
#   Get_OIDC_ID_token:
#     runs-on: ubuntu-latest
#     steps:
#     - id: 'auth'
#       name: 'Authenticate to GCP'
#       uses: 'google-github-actions/auth@v1'
#       with:
#           create_credentials_file: 'true'
#           workload_identity_provider: 'projects/645536778937/locations/global/workloadIdentityPools/github-actions/providers/github'
#           service_account: 'github-actions@vast-silicon-456014-j2.iam.gserviceaccount.com'
#     - id: 'gcloud'
#       name: 'gcloud'
#       run: |-
#         gcloud auth login --brief --cred-file="${{ steps.auth.outputs.credentials_file_path }}"
#         gcloud config set project vast-silicon-456014-j2
#         gcloud services list
